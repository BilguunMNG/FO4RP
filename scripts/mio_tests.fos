#include "_macros.fos"

void go( Critter& cr, int p0, int p1, int p2 )
{
	runTest( cr, Animal() );
	runTest( cr, Dog() );
	runTest( cr, Cat() );
	runTest( cr, Lion() );
	runTest( cr, Kitten() );
	runTest( cr, Human() );
}

void runTest( Critter& cr, Animal@ subject )
{
	subject.test(cr);
}

class Animal
{
	string name;

	Animal( )
	{
		init( "Животне" );
	}
	
	Animal( string name )
	{
		init( name );
	}
	
	void init( string name )
	{
		this.name = name;
	}
	
	string say() //override
	{
		return "нихуя себе!";
	} 
	
	void test( Critter& cr )
	{
		cr.Say( SAY_NORM, this.name + " говорит: '" + this.say() + "'" );
	}
}

class Dog : Animal
{
	Dog( )
	{
		super( "Собака сутулая" );
	}
	
	Dog( string name )
	{
		super( name );
	}
	
	string say() override
	{
		return "Гафк!";
	}
}

class Cat : Animal
{
	Cat( )
	{
		super( "Дикий кац" );
	}
	
	Cat( string name )
	{
		super( name );
	}
	
	string say() override
	{
		return "Мурк!";
	}
}

class Lion : Cat
{
	Lion( )
	{
		super( "Лёва" );
	}
	
	Lion( string name )
	{
		super( name );
	}
	
	string say() override
	{
		return "Рооар!";
	}
}

class Kitten : Cat
{
	Kitten( )
	{
		super( "Домашний каджит" );
	}
	
	Kitten( string name )
	{
		super( name );
	}
	
	string say() override
	{
		return "Скуума!";
	}
}

class Human : Animal
{
	Human( )
	{
		super( "Френк Кост" );
	}
	
	Human( string name )
	{
		super( name );
	}
	
	string say() override
	{
		return "Вы кто такие? Я вас не звал, идите нахуй!";
	}
}