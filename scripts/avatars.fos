#include "_macros.fos"

void changedParam_AvatarIndex( Critter& cr, uint paramIndex, int oldValue )
{
	if( cr.Param[paramIndex] > AVATAR_COUNT )
	{
		cr.ParamBase[paramIndex] = oldValue;
	}
}

void changedParam_AvatarHash( Critter& cr, uint paramIndex, int oldValue )
{
	// ToDo: check avatar file
	//string str = GetStrHash( uint( cr.Param[paramIndex] ) );
	//file avaFile;
	//if( 
	
}

void unsafe_SetAvatar( Critter& player, int critterId, int index, int hash, string@, int[]@ )
{
	// Critter@ critter = GetCritter( critterId );
	if( uint( critterId ) == player.Id )
	{
		player.AvatarBase[AVATAR_BEGIN + index] = hash;
	}
}

void unsafe_ActivationAvatar( Critter& player, int critterId, int index, int, string@, int[]@ )
{
	// Critter@ critter = GetCritter( critterId );
	if( uint( critterId ) == player.Id )
	{
		player.StatBase[ST_AVATAR_INDEX] = index;
	}
}
